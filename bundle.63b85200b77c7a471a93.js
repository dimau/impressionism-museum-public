(()=>{var e={541:()=>{var e=document.getElementById("footer__form");e.addEventListener("submit",(function(e){return e.preventDefault()}));var t=e.querySelector(".footer__button");t.addEventListener("click",(function(){t.disabled=!0,e.querySelector(".footer__form-button-default-text").style.display="none",e.querySelector(".footer__form-button-loader").style.display="block",e.querySelector(".footer__form-fail-message").style.display="none";var n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&200===n.status?(t.disabled=!1,e.querySelector(".footer__form-button-loader").style.display="none",e.querySelector(".footer__form-button-default-text").style.display="",e.querySelector(".footer__button").style.display="none",e.querySelector(".footer__one-more-button").style.display="block",e.querySelector(".footer__input").style.display="none",e.querySelector(".footer__form-success-message").style.display="flex"):4===n.readyState&&(n.response,t.disabled=!1,e.querySelector(".footer__form-button-loader").style.display="none",e.querySelector(".footer__form-button-default-text").style.display="",e.querySelector(".footer__form-fail-message").style.display="flex")};var r=e.querySelector(".footer__input").value;o.subject="Новое обращение с сайта",o.text=r;var i=function(e){var t=[];for(var o in e)t.push(encodeURIComponent(o)+"="+encodeURIComponent(e[o]));return t.join("&")}(o);return n.open("POST","https://postmail.invotes.com/send",!0),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.send(i),!1})),e.querySelector(".footer__one-more-button").addEventListener("click",(function(){e.querySelector(".footer__button").style.display="",e.querySelector(".footer__one-more-button").style.display="none",e.querySelector(".footer__input").style.display="",e.querySelector(".footer__form-success-message").style.display="none"}));var o={access_token:"fvgf3wjj6vjgnapxsxnwhp0z"}},872:()=>{var e=gsap.matchMedia(),t=gsap.timeline();t.to(".header",{background:"rgba(255, 255, 255, 1)",scrollTrigger:{trigger:".main",start:"top 120px",end:"+=100",scrub:!0}}),e.add("(min-width: 1024px)",(function(){t.to(".nav__logo",{scale:.6,transformOrigin:"left top",scrollTrigger:{trigger:".main",start:"top 120px",end:"+=100",scrub:!0,invalidateOnRefresh:!0}})}))}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,o),i.exports}(()=>{"use strict";var e,t,n,r,i,s,a,l=document.querySelector(".tasks__text-block"),c=document.querySelectorAll(".stack-cards__item"),u=c.length;gsap.registerPlugin(ScrollTrigger);var d=gsap.utils.toArray(".stack-cards__item");d.forEach((function(e,o){gsap.to(e,{scale:function(){return 1-.025*(d.length-o)},transformOrigin:"center top",ease:"none",scrollTrigger:{trigger:e,start:function(){return"top bottom-=100"},end:function(){return"top top+=40"},scrub:!0,invalidateOnRefresh:!0}}),gsap.to(e,{opacity:1,scrollTrigger:{trigger:e,start:function(){return"top bottom-=50"},end:function(){return"top ".concat(t+n+r+a+s*o,"px")},scrub:!0,invalidateOnRefresh:!0}}),ScrollTrigger.create({trigger:e,start:function(){return"top ".concat(t+n+r+s*o,"px")},endTrigger:function(){return c[c.length-1]},end:function(){return"top ".concat(t+n+r+s*(u-1),"px")},pin:!0,pinSpacing:!1,invalidateOnRefresh:!0})}));var f=ScrollTrigger.create({trigger:".tasks__text-block",start:function(){return"top ".concat(r,"px")},endTrigger:function(){return c[c.length-1]},end:function(){return"top ".concat(t+n+r+s*(u-1),"px")},pin:!0,pinSpacing:!1,invalidateOnRefresh:!0});function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function p(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==y(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,"string");if("object"!==y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===y(r)?r:String(r)),n)}var r}ScrollTrigger.addEventListener("refreshInit",(function(){e=window.getComputedStyle(l),t=l.offsetHeight,n=parseInt(e.getPropertyValue("--margin-bottom")),r=document.querySelector(".header").offsetHeight,i=window.getComputedStyle(c[0]),s=parseInt(i.getPropertyValue("--margin-inside-stack")),a=parseInt(i.height)}));var g,_=function(){function e(t,o){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),t?(this._el="string"==typeof t?document.querySelector(t):t,this._config=Object.assign({alwaysOpen:!0,duration:350},o),this.addEventListener()):console.warn("Accordion component is downloaded, but can't be applied")}var t,o;return t=e,(o=[{key:"addEventListener",value:function(){var e=this,t=function(t){var o;if(t.keyCode){if(t.keyCode&&13!==t.keyCode)return;o=t.target.querySelector(".accordion__header")}else o=t.target.closest(".accordion__header");if(o){if(!e._config.alwaysOpen){var n=e._el.querySelector(".accordion__item_show");n&&n!==o.parentElement&&e.toggle(n)}e.toggle(o.parentElement)}};this._el.addEventListener("click",t),this._el.addEventListener("keydown",t)}},{key:"show",value:function(e){var t=e.querySelector(".accordion__body");if(!t.classList.contains("collapsing")&&!e.classList.contains("accordion__item_show")){t.style.display="block";var o=t.offsetHeight;t.style.height=0,t.style.overflow="hidden",t.style.transition="height ".concat(this._config.duration,"ms ease"),t.classList.add("collapsing"),e.classList.add("accordion__item_slidedown"),t.offsetHeight,t.style.height="".concat(o,"px"),window.setTimeout((function(){t.classList.remove("collapsing"),e.classList.remove("accordion__item_slidedown"),t.classList.add("collapse"),e.classList.add("accordion__item_show"),t.style.display="",t.style.height="",t.style.transition="",t.style.overflow=""}),this._config.duration)}}},{key:"hide",value:function(e){var t=e.querySelector(".accordion__body");!t.classList.contains("collapsing")&&e.classList.contains("accordion__item_show")&&(t.style.height="".concat(t.offsetHeight,"px"),t.offsetHeight,t.style.display="block",t.style.height=0,t.style.overflow="hidden",t.style.transition="height ".concat(this._config.duration,"ms ease"),t.classList.remove("collapse"),e.classList.remove("accordion__item_show"),t.classList.add("collapsing"),window.setTimeout((function(){t.classList.remove("collapsing"),t.classList.add("collapse"),t.style.display="",t.style.height="",t.style.transition="",t.style.overflow=""}),this._config.duration))}},{key:"toggle",value:function(e){e.classList.contains("accordion__item_show")?this.hide(e):this.show(e)}}])&&p(t.prototype,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();if(1!==ScrollTrigger.isTouch){var m=gsap.utils.toArray(".bonuses__bonus-card"),v=document.querySelector(".bonuses__list");v.style.marginBottom="".concat(v.scrollWidth-document.documentElement.clientWidth,"px"),g=ScrollTrigger.create({animation:gsap.to(m,{x:-(v.scrollWidth-document.documentElement.clientWidth),ease:"none"}),trigger:".bonuses__list",start:"top 25%",end:"+=".concat(v.scrollWidth-document.documentElement.clientWidth),pin:!0,scrub:.1,fastScrollEnd:!0,invalidateOnRefresh:!0})}o(541),o(872),gsap.registerPlugin(ScrollTrigger,ScrollToPlugin),document.querySelector(".nav__link-bonuses").addEventListener("click",(function(e){e.preventDefault(),g?gsap.to(window,{scrollTo:g.start,ease:"expo.out",duration:.1}):gsap.to(window,{scrollTo:{y:"#bonuses",offsetY:120},ease:"none",duration:.1})})),document.querySelector(".nav__link-tasks").addEventListener("click",(function(e){e.preventDefault(),gsap.to(window,{scrollTo:f.start,ease:"expo.out",duration:.1})})),document.querySelector(".nav__link-about").addEventListener("click",(function(e){e.preventDefault(),gsap.to(window,{scrollTo:{y:"#about",offsetY:120},ease:"none",duration:.1})})),document.querySelector(".nav__link-faq").addEventListener("click",(function(e){e.preventDefault(),gsap.to(window,{scrollTo:{y:"#faq",offsetY:120},ease:"none",duration:.1})})),document.querySelectorAll(".nav__button, .promo__button, .steps__button").forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),gsap.to(window,{scrollTo:{y:"#footer"},ease:"none",duration:.1})}))})),new _(document.querySelector(".accordion"),{alwaysOpen:!1})})()})();